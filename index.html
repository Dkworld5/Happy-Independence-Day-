<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Independence Day </title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
        }
        .container {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
            max-width: 500px;
            width: 90%;
            margin: auto;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .greeting {
            font-size: 2.2em;
            font-weight: 700;
            color: #d9534f;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
            animation: fadeInZoom 1.5s ease-in-out;
            margin-top: 25px;
        }
        @keyframes fadeInZoom {
            from { opacity: 0; transform: scale(0.7); }
            to { opacity: 1; transform: scale(1); }
        }
        .input-group {
            margin-top: 30px;
        }
        input[type="text"] {
            padding: 15px;
            width: calc(100% - 34px);
            border: 1px solid #ccc;
            border-radius: 10px;
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        input[type="text"]:focus {
            outline: none;
            border-color: #25D366;
            box-shadow: 0 0 10px rgba(37, 211, 102, 0.3);
        }
        .whatsapp-btn {
            width: 100%;
            padding: 15px 25px;
            background-color: #25D366; /* WhatsApp Green */
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px; /* Space between icon and text */
        }
        .whatsapp-btn:hover {
            background-color: #128C7E;
            transform: translateY(-2px);
        }
        .whatsapp-btn svg {
            width: 24px;
            height: 24px;
            fill: white;
        }
        .share-link-container {
            margin-top: 25px;
            background: rgba(0,0,0,0.05);
            padding: 20px;
            border-radius: 10px;
            text-align: left;
        }
        .link-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        #generatedLinkInput {
            flex-grow: 1;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 0.9em;
        }
        .copy-btn {
            padding: 10px 15px;
            background-color: #ff6f00;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            flex-shrink: 0;
        }
        .copy-btn:hover {
            background-color: #e65100;
        }
    </style>
</head>
<body>

    <div class="container">
        <img src="Happy-Independence-Day-GIFs-Perfect-for-15-August-Celebrations-with-Friends-Family.gif" alt="Family Animation">

        <div id="greetingMessage" class="greeting" style="display: none;"></div>

        <div class="input-group">
            <input type="text" id="senderName" placeholder="अपना नाम यहाँ लिखें">
            <button class="whatsapp-btn" onclick="generateLink()">
                <svg viewBox="0 0 24 24"><path d="M20.52,3.48A11.91,11.91,0,0,0,12,0,12,12,0,0,0,.06,13.14l-.06.06a12,12,0,0,0,1.9,10.2l-2,5.85,6-1.95A12,12,0,0,0,12,24a12,12,0,0,0,12-12,11.92,11.92,0,0,0-3.48-8.52ZM12,21.9a9.9,9.9,0,0,1-5.09-1.39l-.36-.21-3.79,1.23L4,17.75l-.23-.38A9.94,9.94,0,0,1,2.1,12a9.9,9.9,0,0,1,10-9.9,9.9,9.9,0,0,1,7,2.92,9.9,9.9,0,0,1,2.9,7A9.9,9.9,0,0,1,12,21.9ZM17.21,14.6a.6.6,0,0,0-.3-.55c-.29-.14-1.72-.85-1.99-.94s-.47-.14-.66.14a1.45,1.45,0,0,0-.61,1.17.71.71,0,0,0-.15.28.6.6,0,0,0-.09.38c-.18.23-.37.33-.68.19s-1.27-.47-2.42-1.49a9.42,9.42,0,0,1-1.69-1.9c-.18-.31-.04-.48,0-.62s.14-.23.21-.31a.88.88,0,0,0,.19-.31.38.38,0,0,0,0-.36c-.05-.14-.66-1.59-.91-2.17s-.49-.5-.66-.51h-.5a1,1,0,0,0-.73.34,3,3,0,0,0-1,2.4,4.28,4.28,0,0,0,.9,2.68,8.4,8.4,0,0,0,3.7,3.29,10.27,10.27,0,0,0,4.69.9,3.7,3.7,0,0,0,2.46-1.69,2,2,0,0,0,.15-1.69Z"/></svg>
                लिंक बनाएँ
            </button>
        </div>

<script type="text/javascript">
	atOptions = {
		'key' : '8cd07c2a0451a96d371036716bab313f',
		'format' : 'iframe',
		'height' : 50,
		'width' : 320,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/8cd07c2a0451a96d371036716bab313f/invoke.js"></script>
        <div id="shareLinkContainer" style="display: none;">
            <p>इस लिंक को कॉपी करें या सीधे शेयर करें:</p>
            <div class="link-row">
                <input type="text" id="generatedLinkInput" readonly>
                <button id="copyBtn" class="copy-btn" onclick="copyLink()">कॉपी करें</button>
            </div>
            <button id="shareBtn" class="whatsapp-btn" onclick="shareLink()" style="margin-top: 15px;">
                 <svg viewBox="0 0 24 24"><path d="M20.52,3.48A11.91,11.91,0,0,0,12,0,12,12,0,0,0,.06,13.14l-.06.06a12,12,0,0,0,1.9,10.2l-2,5.85,6-1.95A12,12,0,0,0,12,24a12,12,0,0,0,12-12,11.92,11.92,0,0,0-3.48-8.52ZM12,21.9a9.9,9.9,0,0,1-5.09-1.39l-.36-.21-3.79,1.23L4,17.75l-.23-.38A9.94,9.94,0,0,1,2.1,12a9.9,9.9,0,0,1,10-9.9,9.9,9.9,0,0,1,7,2.92,9.9,9.9,0,0,1,2.9,7A9.9,9.9,0,0,1,12,21.9ZM17.21,14.6a.6.6,0,0,0-.3-.55c-.29-.14-1.72-.85-1.99-.94s-.47-.14-.66.14a1.45,1.45,0,0,0-.61,1.17.71.71,0,0,0-.15.28.6.6,0,0,0-.09.38c-.18.23-.37.33-.68.19s-1.27-.47-2.42-1.49a9.42,9.42,0,0,1-1.69-1.9c-.18-.31-.04-.48,0-.62s.14-.23.21-.31a.88.88,0,0,0,.19-.31.38.38,0,0,0,0-.36c-.05-.14-.66-1.59-.91-2.17s-.49-.5-.66-.51h-.5a1,1,0,0,0-.73.34,3,3,0,0,0-1,2.4,4.28,4.28,0,0,0,.9,2.68,8.4,8.4,0,0,0,3.7,3.29,10.27,10.27,0,0,0,4.69.9,3.7,3.7,0,0,0,2.46-1.69,2,2,0,0,0,.15-1.69Z"/></svg>
                अभी शेयर करें
            </button>
        </div>
    </div>

    <script>
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get('name');
            if (name) {
                const greetingElement = document.getElementById('greetingMessage');
                greetingElement.textContent = `Aap ko "${decodeURIComponent(name)}" ki taraf se Happy Independence Day!`;
                greetingElement.style.display = 'block';
            }
        };

        function generateLink() {
            const nameInput = document.getElementById('senderName');
            const senderName = nameInput.value.trim();
            if (senderName === "") {
                alert("कृपया अपना नाम दर्ज करें।");
                return;
            }

            const baseUrl = window.location.href.split('?')[0];
            const generatedUrl = `${baseUrl}?name=${encodeURIComponent(senderName)}`;

            const shareLinkContainer = document.getElementById('shareLinkContainer');
            const generatedLinkInput = document.getElementById('generatedLinkInput');

            generatedLinkInput.value = generatedUrl;
            shareLinkContainer.style.display = 'block';
        }
        
        function copyLink() {
            const linkInput = document.getElementById('generatedLinkInput');
            const copyBtn = document.getElementById('copyBtn');
            navigator.clipboard.writeText(linkInput.value).then(() => {
                copyBtn.textContent = 'कॉपी हो गया!';
                copyBtn.style.backgroundColor = '#28a745';
                setTimeout(() => {
                    copyBtn.textContent = 'कॉपी करें';
                    copyBtn.style.backgroundColor = '#ff6f00';
                }, 2000);
            }).catch(err => {
                alert("लिंक कॉपी नहीं हो सका।");
            });
        }
        
        async function shareLink() {
            const senderName = document.getElementById('senderName').value.trim();
            const generatedUrl = document.getElementById('generatedLinkInput').value;

            const shareData = {
                title: Happy Independence day,
                text: `${senderName} ने आपके लिए यह खास संदेश भेजा है:`,
                url: generatedUrl,
            };

            // Check if the Web Share API is supported by the browser
            if (navigator.share) {
                try {
                    await navigator.share(shareData);
                    console.log('Link shared successfully');
                } catch (err) {
                    console.error('Share failed:', err.message);
                }
            } else {
                // Fallback for browsers that do not support the Web Share API
                alert('आपका ब्राउज़र सीधे शेयर करने का समर्थन नहीं करता है। कृपया ऊपर दिए गए कॉपी बटन का उपयोग करें।');
            }
        }
    </script>
</body>
</html>